// Generated by CoffeeScript 1.10.0
(function() {
  var Http, HttpError, Q;

  Q = require('q');

  HttpError = (function() {
    function HttpError(url1, dstFname, errorInfo) {
      this.url = url1;
      this.dstFname = dstFname;
      this.errorInfo = errorInfo;
    }

    return HttpError;

  })();

  Http = (function() {
    function Http() {}

    Http.download = function(url, dst_fname) {
      var deferred, ft;
      deferred = Q.defer();
      ft = new FileTransfer();
      console.log("About to start transfer", url);
      ft.download(url, dst_fname, (function(entry) {
        console.log("File downloaded successfully");
        return deferred.resolve();
      }), (function(err) {
        console.log("Could not download file", err);
        return deferred.reject(new HttpError(url, dst_fname, err));
      }));
      return deferred.promise;
    };

    return Http;

  })();

  module.exports = {
    Http: Http,
    HttpError: HttpError
  };

}).call(this);
